#!/usr/bin/env bash
# Script to change localhost resolution to 127.0.0.2 and facebook.com to 8.8.8.8

# Create a backup of the original hosts file
sudo cp /etc/hosts /etc/hosts.backup

# Create a temporary file with new hosts configuration
temp_file=$(mktemp)

# Write the new hosts configuration
{
    echo "127.0.0.2	localhost"
    echo "8.8.8.8	facebook.com"
    echo ""
    echo "# The following lines are desirable for IPv6 capable hosts"
    echo "::1     localhost ip6-localhost ip6-loopback"
    echo "ff02::1 ip6-allnodes"
    echo "ff02::2 ip6-allrouters"
} > "$temp_file"

# Replace the hosts file with our new configuration
sudo cp "$temp_file" /etc/hosts

# Clean up temporary file
rm "$temp_file"
